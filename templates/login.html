{% extends "base.html" %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center" style="min-height: 70vh;">
    <div class="login-container">
        <h2 class="text-center mb-4">Login</h2>

        <div class="role-toggle d-flex mb-4">
            <button id="studentBtn" class="btn-role active" onclick="switchRole('student')">Student</button>
            <button id="adminBtn" class="btn-role" onclick="switchRole('admin')">Authority</button>
        </div>

        <form method="POST" action="/login">
            <input type="hidden" id="userRole" name="role" value="student">

            <div class="mb-3">
                <label class="form-label">Email Address</label>
                <input type="email" name="email" class="form-control bg-dark text-white border-secondary"
                    placeholder="name@example.com" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Password</label>
                <input type="password" name="password" class="form-control bg-dark text-white border-secondary"
                    placeholder="••••••••" required>
            </div>

            <button type="submit" id="submitBtn" class="btn btn-primary w-100 mt-3">Login as Student</button>
        </form>
    </div>
</div>

<script>
    function switchRole(role) {
        const studentBtn = document.getElementById('studentBtn');
        const adminBtn = document.getElementById('adminBtn');
        const userRoleInput = document.getElementById('userRole');
        const submitBtn = document.getElementById('submitBtn');

        if (role === 'student') {
            studentBtn.classList.add('active');
            adminBtn.classList.remove('active');
            userRoleInput.value = 'student';
            submitBtn.innerText = 'Login as Student';
            submitBtn.className = 'btn btn-primary w-100 mt-3';
        } else {
            adminBtn.classList.add('active');
            studentBtn.classList.remove('active');
            userRoleInput.value = 'admin';
            submitBtn.innerText = 'Login as Authority';
            submitBtn.className = 'btn btn-info w-100 mt-3'; // Different color for Admin
        }
    }
</script>
{% endblock %}